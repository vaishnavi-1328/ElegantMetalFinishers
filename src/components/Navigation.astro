---
import logoImage from '../assets/logo1.jpg';
const currentPath = Astro.url.pathname;
---

<nav class="fixed top-0 left-0 right-0 bg-gray-100 z-50" id="navbar">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-20">
      <!-- Logo -->
      <div class="flex-shrink-0">
        <a href="/" class="flex items-center">
          <img src={logoImage.src} alt="Elegant Metal Finishers Logo" class="w-12 h-12 rounded-lg shadow-lg object-contain" />
          <span class="ml-3 text-xl font-bold text-gray-900">Elegant Metal Finishers</span>
        </a>
      </div>
      
      <!-- Desktop Navigation -->
      <div class="hidden md:block">
        <div class="ml-10 flex items-baseline space-x-4">
          <a href="/" class={`px-4 py-2 text-sm font-medium transition-all duration-300 ${currentPath === '/' ? 'text-olive-400 border-b-2 border-olive-400' : 'text-gray-900 hover:text-olive-400'}`}>
            Home
          </a>
          <a href="/about" class={`px-4 py-2 text-sm font-medium transition-all duration-300 ${currentPath === '/about' ? 'text-olive-400 border-b-2 border-olive-400' : 'text-gray-900 hover:text-olive-400'}`}>
            About Us
          </a>
          <a href="/work" class={`px-4 py-2 text-sm font-medium transition-all duration-300 ${currentPath === '/work' ? 'text-olive-400 border-b-2 border-olive-400' : 'text-gray-900 hover:text-olive-400'}`}>
            Our Work
          </a>
          <a href="/services" class={`px-4 py-2 text-sm font-medium transition-all duration-300 ${currentPath === '/services' ? 'text-olive-400 border-b-2 border-olive-400' : 'text-gray-900 hover:text-olive-400'}`}>
            Services
          </a>
          <a href="/contact" class="bg-gradient-to-r from-olive-600 to-teal-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:from-olive-700 hover:to-teal-700 transition-all duration-300 shadow-lg ml-4">
            Contact Us
          </a>
        </div>
      </div>
      
      <!-- Mobile menu button -->
      <div class="md:hidden">
        <button type="button" class="mobile-menu-button inline-flex items-center justify-center p-2 rounded-md text-gray-900 hover:text-olive-400 hover:bg-gray-100 transition-colors">
          <svg class="block h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
          </svg>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Mobile menu -->
  <div class="mobile-menu hidden md:hidden">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-slate-800/95 backdrop-blur-md border-t border-white/10">
      <a href="/" class={`block px-3 py-2 text-base font-medium transition-colors ${currentPath === '/' ? 'text-olive-400 bg-olive-400/10' : 'text-gray-900 hover:text-olive-400 hover:bg-gray-100'}`}>
        Home
      </a>
      <a href="/about" class={`block px-3 py-2 text-base font-medium transition-colors ${currentPath === '/about' ? 'text-olive-400 bg-olive-400/10' : 'text-gray-900 hover:text-olive-400 hover:bg-gray-100'}`}>
        About Us
      </a>
      <a href="/work" class={`block px-3 py-2 text-base font-medium transition-colors ${currentPath === '/work' ? 'text-olive-400 bg-olive-400/10' : 'text-gray-900 hover:text-olive-400 hover:bg-gray-100'}`}>
        Our Work
      </a>
      <a href="/services" class={`block px-3 py-2 text-base font-medium transition-colors ${currentPath === '/services' ? 'text-olive-400 bg-olive-400/10' : 'text-gray-900 hover:text-olive-400 hover:bg-gray-100'}`}>
        Services
      </a>
      <a href="/contact" class="block px-3 py-2 text-base font-medium bg-gradient-to-r from-olive-600 to-teal-600 text-white rounded-lg hover:from-olive-700 hover:to-teal-700 transition-colors">
        Contact Us
      </a>
    </div>
  </div>
</nav>

<script>
  // Mobile menu toggle
  const mobileMenuButton = document.querySelector<HTMLButtonElement>('.mobile-menu-button');
  const mobileMenu = document.querySelector<HTMLDivElement>('.mobile-menu');
  
  if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  
    // Close mobile menu when clicking outside
    document.addEventListener('click', (e) => {
      const target = e.target as HTMLElement;
      if (
        mobileMenuButton &&
        !mobileMenuButton.contains(target) &&
        mobileMenu &&
        !mobileMenu.contains(target)
      ) {
        mobileMenu.classList.add('hidden');
      }
    });
  }

  // Navbar background on scroll
  const navbar = document.getElementById('navbar');
  
  if (navbar) {
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        navbar.classList.add('bg-slate-800/90');
        navbar.classList.remove('bg-gray-100');
      } else {
        navbar.classList.remove('bg-slate-800/90');
        navbar.classList.add('bg-gray-100');
      }
    });
  }
</script>
